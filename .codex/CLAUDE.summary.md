# CLAUDE.md Summary
- `mind-the-wait` computes real-time headway reliability by blending GTFS static schedules, GTFS-RT vehicle feeds, Redis persistence, and Symfony services to grade transit service quality.
- Development workflow hinges on Makefile wrappers for Docker orchestration, database lifecycle, code quality enforcement (php-cs-fixer, PHPUnit), and console commands that load GTFS data, trigger scoring ticks, and submit rider feedback votes.
- Data pipeline runs through static ingestion (`GtfsLoadCommand`), a Python GTFS-RT sidecar that streams vehicles/trips/alerts into Redis, and Symfony components (`VehicleGrouper`, `HeadwayCalculator`, `HeadwayScorer`) that compute and expose scores via `/api/score` and `/api/realtime`.
- Data pipeline runs through static ingestion (`GtfsLoadCommand`), a Python GTFS-RT sidecar that streams vehicles/trips/alerts into Redis, and Symfony components (`VehicleGrouper`, `HeadwayCalculator`, `HeadwayScorer`, `VehicleStatusService`) that compute headways, derive red/yellow/green punctuality, and expose results via `/api/score`, `/api/realtime`, and the rider feedback endpoints.
- Infrastructure details cover Redis hash keys (`mtw:vehicles|trips|alerts|score|vehicle_feedback:<id>`), the Docker stack (php, nginx, database, redis, pyparser, scheduler, worker), Doctrine repositories with bulk upsert patterns, and domain DTOs/enums that codify routes, directions, and grading.
- Known constraints emphasize trip ID mismatches that trigger timestamp fallbacks, along with guidance on environment variables, memory tuning, GTFS reload workflows, and monitoring approaches for reliable operations.
