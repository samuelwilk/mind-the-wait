{# Reusable Route List Item Component #}
{# Parameters:
   - route: Route object with shortName, longName, colour, grade
   - metadata: Optional metadata text (e.g., "2 vehicles active", "85.5% on-time average")
   - badgeSize: Optional badge size ('sm', 'md', 'lg'), defaults to 'md'
   - badgeFallbackBg: Optional fallback badge background color
   - badgeFallbackText: Optional fallback badge text color
   - gradeColorClasses: Optional custom classes for grade badge, defaults based on grade value
#}
{% set defaultGradeClasses = {
    'A': 'bg-success-100 text-success-800',
    'B': 'bg-success-100 text-success-800',
    'C': 'bg-warning-100 text-warning-800',
    'D': 'bg-warning-100 text-warning-800',
    'F': 'bg-danger-100 text-danger-800'
} %}
{% set gradeClasses = gradeColorClasses|default(defaultGradeClasses[route.grade]|default('bg-gray-100 text-gray-800')) %}

<div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
    <div class="flex items-center gap-3">
        {% include 'components/RouteBadge.html.twig' with {
            shortName: route.shortName,
            colour: route.colour,
            size: badgeSize|default('md'),
            fallbackBg: badgeFallbackBg|default('bg-gray-100'),
            fallbackText: badgeFallbackText|default('text-gray-800')
        } %}
        <div>
            <p class="font-medium text-gray-900 {{ badgeSize|default('md') == 'sm' ? 'text-sm' : '' }}">{{ route.longName }}</p>
            {% if metadata is defined and metadata %}
                <p class="text-xs text-gray-500">{{ metadata|raw }}</p>
            {% endif %}
        </div>
    </div>
    <div class="text-right">
        <span class="inline-flex items-center px-3 py-1 rounded-full {{ badgeSize|default('md') == 'sm' ? 'text-xs px-2.5' : 'text-sm' }} font-semibold {{ gradeClasses }}">
            {{ route.grade }}
        </span>
    </div>
</div>
