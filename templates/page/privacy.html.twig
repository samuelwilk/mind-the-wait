{% extends 'base.html.twig' %}

{% block title %}Privacy Policy - Mind the Wait{% endblock %}

{% block body %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-6">Privacy Policy</h1>

    <div class="prose prose-lg max-w-none">
        <p class="text-gray-600 mb-6">
            <strong>Last Updated:</strong> October 29, 2025
        </p>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Overview</h2>
            <p class="text-gray-700 mb-4">
                Mind the Wait ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy
                explains how we collect, use, and protect information when you use our website.
            </p>
            <p class="text-gray-700">
                Mind the Wait is a public transit reliability monitoring tool for Saskatoon Transit. We provide
                real-time insights and historical performance analysis to help riders make informed transit decisions.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Information We Collect</h2>

            <h3 class="text-xl font-semibold text-gray-800 mb-3 mt-6">Analytics Data (Google Analytics 4)</h3>
            <p class="text-gray-700 mb-4">
                We use Google Analytics to understand how visitors use our site. Google Analytics collects information such as:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li>Pages you visit and time spent on each page</li>
                <li>Browser type and device information (desktop, mobile, tablet)</li>
                <li>Approximate geographic location (city and country level)</li>
                <li>Referral source (how you found our website)</li>
                <li>User interactions (clicks, scrolling, navigation patterns)</li>
            </ul>
            <p class="text-gray-700 mb-4">
                <strong>Important:</strong> We have configured Google Analytics with privacy-friendly settings:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li><strong>IP Anonymization:</strong> Your IP address is anonymized before being processed</li>
                <li><strong>No Ad Personalization:</strong> Your data is not used for Google advertising</li>
                <li><strong>No Google Signals:</strong> Cross-device tracking is disabled</li>
            </ul>

            <h3 class="text-xl font-semibold text-gray-800 mb-3 mt-6">Public Transit Data</h3>
            <p class="text-gray-700 mb-4">
                We collect and display public transit data from Saskatoon Transit's official GTFS (General Transit Feed Specification) feeds. This data includes:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li>Real-time vehicle positions and arrival predictions</li>
                <li>Route schedules and stop information</li>
                <li>Service alerts and disruptions</li>
            </ul>
            <p class="text-gray-700">
                This transit data is publicly available and does not contain any personal information about riders.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">How We Use Information</h2>
            <p class="text-gray-700 mb-4">
                We use the collected information to:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li>Understand how visitors use Mind the Wait</li>
                <li>Improve website performance and user experience</li>
                <li>Identify popular features and routes</li>
                <li>Monitor traffic patterns and peak usage times</li>
                <li>Make data-driven decisions about feature development</li>
            </ul>
            <p class="text-gray-700">
                <strong>We do NOT:</strong> Sell your data, use it for advertising, or share it with third parties for marketing purposes.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Cookies and Tracking</h2>
            <p class="text-gray-700 mb-4">
                When you accept our cookie consent banner, we use the following cookies:
            </p>
            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-gray-300">
                            <th class="text-left py-2 font-semibold">Cookie Name</th>
                            <th class="text-left py-2 font-semibold">Purpose</th>
                            <th class="text-left py-2 font-semibold">Expiration</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-b border-gray-200">
                            <td class="py-2 font-mono text-xs">_ga</td>
                            <td class="py-2">Distinguishes unique visitors</td>
                            <td class="py-2">2 years</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 font-mono text-xs">_ga_*</td>
                            <td class="py-2">Stores session state for Google Analytics</td>
                            <td class="py-2">2 years</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class="text-gray-700">
                Your cookie preferences are stored in your browser's localStorage and are not sent to our servers.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Your Privacy Rights</h2>
            <p class="text-gray-700 mb-4">
                You have the right to:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li><strong>Decline Analytics:</strong> Click "Decline" on the cookie banner to opt-out of Google Analytics</li>
                <li><strong>Browser Extensions:</strong> Use browser extensions like uBlock Origin or Privacy Badger to block tracking</li>
                <li><strong>Do Not Track:</strong> Enable "Do Not Track" in your browser settings</li>
                <li><strong>Delete Data:</strong> Clear your browser cookies to remove stored analytics data</li>
            </ul>
            <p class="text-gray-700">
                If you decline cookies or block tracking, Mind the Wait will still function normally. All core features remain available.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Data Security</h2>
            <p class="text-gray-700">
                We take reasonable measures to protect your information:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li>All connections use HTTPS encryption</li>
                <li>Analytics data is processed by Google with industry-standard security</li>
                <li>We do not store personal information on our servers</li>
                <li>We follow security best practices for our AWS infrastructure</li>
            </ul>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Third-Party Services</h2>
            <p class="text-gray-700 mb-4">
                Mind the Wait uses the following third-party services:
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4 space-y-2">
                <li>
                    <strong>Google Analytics 4:</strong> Web analytics (
                    <a href="https://policies.google.com/privacy" target="_blank" rel="noopener" class="text-primary-600 hover:text-primary-700 underline">Google Privacy Policy</a>
                    )
                </li>
                <li>
                    <strong>Saskatoon Transit GTFS Feeds:</strong> Public transit data (
                    <a href="https://www.saskatoon.ca/city-hall/open-data-catalogue" target="_blank" rel="noopener" class="text-primary-600 hover:text-primary-700 underline">City of Saskatoon Open Data</a>
                    )
                </li>
            </ul>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Children's Privacy</h2>
            <p class="text-gray-700">
                Mind the Wait is a public transit information tool and does not knowingly collect information from children under 13.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Changes to This Policy</h2>
            <p class="text-gray-700">
                We may update this Privacy Policy from time to time. Changes will be posted on this page with an updated "Last Updated" date.
                Continued use of Mind the Wait after changes constitutes acceptance of the updated policy.
            </p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Contact</h2>
            <p class="text-gray-700 mb-4">
                If you have questions about this Privacy Policy or how we handle your information, please contact us:
            </p>
            <ul class="list-none text-gray-700 space-y-2">
                <li><strong>GitHub:</strong> <a href="https://github.com/samuelwilk/mind-the-wait" target="_blank" rel="noopener" class="text-primary-600 hover:text-primary-700 underline">github.com/samuelwilk/mind-the-wait</a></li>
                <li><strong>Project:</strong> Mind the Wait is an open-source project</li>
            </ul>
        </section>

        <div class="bg-primary-50 border border-primary-200 rounded-lg p-6 mt-8">
            <h3 class="text-lg font-semibold text-primary-900 mb-2">Summary</h3>
            <p class="text-primary-800 text-sm">
                <strong>TL;DR:</strong> We use Google Analytics (with your consent) to understand how people use Mind the Wait.
                Your IP is anonymized, we don't sell data, and you can opt-out anytime. All transit data is public information from Saskatoon Transit.
            </p>
        </div>
    </div>

    <div class="mt-8 text-center">
        <a href="{{ path('app_dashboard') }}" class="inline-flex items-center text-primary-600 hover:text-primary-700 font-medium no-underline">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            Back to Dashboard
        </a>
    </div>
</div>
{% endblock %}
